# Claude Code Hub

> ä¸€ä¸ªç°ä»£åŒ–çš„ AI API ä»£ç†æœåŠ¡ï¼Œæä¾›æ™ºèƒ½è´Ÿè½½å‡è¡¡ã€ç”¨æˆ·ç®¡ç†å’Œä½¿ç”¨ç»Ÿè®¡åŠŸèƒ½ã€‚

[![TypeScript](https://img.shields.io/badge/TypeScript-5.9-blue)](https://www.typescriptlang.org/)
[![Next.js](https://img.shields.io/badge/Next.js-15.4-black)](https://nextjs.org/)
[![React](https://img.shields.io/badge/React-19.1-blue)](https://reactjs.org/)
[![Tailwind CSS](https://img.shields.io/badge/Tailwind%20CSS-4.1-38bdf8)](https://tailwindcss.com/)
[![pnpm](https://img.shields.io/badge/pnpm-9.15-ffbf00)](https://pnpm.io/)

## âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸ”„ **æ™ºèƒ½ä»£ç†** - åŸºäº Hono çš„é«˜æ€§èƒ½ API ä»£ç†ï¼Œæ”¯æŒæµå¼å“åº” (SSE)
- âš–ï¸ **è´Ÿè½½å‡è¡¡** - æ™ºèƒ½åˆ†å‘è¯·æ±‚åˆ°å¤šä¸ªä¸Šæ¸¸æä¾›å•†ï¼Œæ”¯æŒæƒé‡é…ç½®
- ğŸ‘¥ **ç”¨æˆ·ç®¡ç†** - å¤šç”¨æˆ·æ”¯æŒï¼Œç»†ç²’åº¦çš„æƒé™å’Œé…é¢æ§åˆ¶
- ğŸ”‘ **å¯†é’¥ç®¡ç†** - ç”¨æˆ·å¯†é’¥ç”Ÿæˆã€ç®¡ç†å’Œæƒé™æ§åˆ¶
- ğŸ“Š **ä½¿ç”¨ç»Ÿè®¡** - è¯¦ç»†çš„è¯·æ±‚ç»Ÿè®¡ã€æˆæœ¬åˆ†æå’Œå¯è§†åŒ–å›¾è¡¨
- ğŸ¨ **ç°ä»£ç•Œé¢** - åŸºäº shadcn/ui çš„å“åº”å¼ç®¡ç†é¢æ¿
- ğŸ’¾ **æ•°æ®æŒä¹…åŒ–** - PostgreSQL + Drizzle ORM çš„å¯é æ•°æ®å­˜å‚¨

## ğŸ—ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **Next.js 15** - ä½¿ç”¨ App Router çš„å…¨æ ˆæ¡†æ¶
- **React 19** - æœ€æ–°çš„ React ç‰¹æ€§æ”¯æŒ
- **TypeScript** - ç±»å‹å®‰å…¨çš„å¼€å‘ä½“éªŒ
- **Tailwind CSS v4** - å®ç”¨ä¼˜å…ˆçš„ CSS æ¡†æ¶
- **shadcn/ui** - é«˜è´¨é‡çš„ React ç»„ä»¶åº“

### åç«¯
- **Hono** - è½»é‡çº§ã€é«˜æ€§èƒ½çš„ Web æ¡†æ¶
- **Drizzle ORM** - ç±»å‹å®‰å…¨çš„ SQL ORM
- **PostgreSQL** - ç”Ÿäº§çº§å…³ç³»å‹æ•°æ®åº“
- **Node.js** - ç¨³å®šçš„ JavaScript è¿è¡Œæ—¶

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **pnpm** â‰¥ 9.15.0
- **Node.js** â‰¥ 18
- **PostgreSQL** â‰¥ 12

### å®‰è£…ä¸è¿è¡Œ

1. **å…‹éš†ä»“åº“**
   ```bash
   git clone https://github.com/your-username/claude-code-hub.git
   cd claude-code-hub
   ```

2. **å®‰è£…ä¾èµ–**
   ```bash
   pnpm install
   ```

3. **é…ç½®ç¯å¢ƒå˜é‡**

   å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿ï¼š
   ```bash
   cp .env.example .env.local
   ```

   ç¼–è¾‘ `.env.local` æ–‡ä»¶ï¼š
   ```bash
   # åº”ç”¨é…ç½®
   NODE_ENV=development

   # ç®¡ç†å‘˜ä»¤ç‰Œ
   ADMIN_TOKEN=your-secure-admin-token

   # æ•°æ®åº“è¿æ¥
   DATABASE_URL=postgres://user:password@localhost:5432/claude_code_hub
   ```

4. **åˆå§‹åŒ–æ•°æ®åº“**
   ```bash
   # ç”Ÿæˆè¿ç§»æ–‡ä»¶
   pnpm run db:generate

   # æ‰§è¡Œæ•°æ®åº“è¿ç§»
   pnpm run db:migrate
   ```

5. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
   ```bash
   pnpm dev
   ```

   åº”ç”¨å°†åœ¨ http://localhost:13500 å¯åŠ¨

### ç”Ÿäº§éƒ¨ç½²

1. **æ„å»ºåº”ç”¨**
   ```bash
   pnpm run build
   ```

2. **å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨**
   ```bash
   pnpm run start
   ```

## ğŸ“ é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ v1/[...route]/           # API ä»£ç†è·¯ç”± (Hono)
â”‚   â”œâ”€â”€ dashboard/               # ç®¡ç†é¢æ¿é¡µé¢
â”‚   â”œâ”€â”€ login/                   # ç™»å½•é¡µé¢
â”‚   â””â”€â”€ layout.tsx               # æ ¹å¸ƒå±€
â”œâ”€â”€ actions/                     # Server Actions
â”‚   â”œâ”€â”€ users.ts                 # ç”¨æˆ·ç›¸å…³æ“ä½œ
â”‚   â”œâ”€â”€ keys.ts                  # å¯†é’¥ç®¡ç†
â”‚   â”œâ”€â”€ providers.ts             # ä¾›åº”å•†ç®¡ç†
â”‚   â””â”€â”€ statistics.ts            # ç»Ÿè®¡æ•°æ®
â”œâ”€â”€ repository/                  # æ•°æ®è®¿é—®å±‚
â”‚   â”œâ”€â”€ user.ts                  # ç”¨æˆ·æ•°æ®è®¿é—®
â”‚   â”œâ”€â”€ key.ts                   # å¯†é’¥æ•°æ®è®¿é—®
â”‚   â”œâ”€â”€ provider.ts              # ä¾›åº”å•†æ•°æ®è®¿é—®
â”‚   â””â”€â”€ message.ts               # æ¶ˆæ¯è®°å½•
â”œâ”€â”€ types/                       # TypeScript ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ user.ts                  # ç”¨æˆ·ç±»å‹
â”‚   â”œâ”€â”€ key.ts                   # å¯†é’¥ç±»å‹
â”‚   â”œâ”€â”€ provider.ts              # ä¾›åº”å•†ç±»å‹
â”‚   â””â”€â”€ statistics.ts            # ç»Ÿè®¡ç±»å‹
â”œâ”€â”€ components/                  # å…±äº« UI ç»„ä»¶ (shadcn/ui)
â”œâ”€â”€ lib/                         # å·¥å…·å‡½æ•°å’Œé…ç½®
â”‚   â”œâ”€â”€ config/                  # ç¯å¢ƒé…ç½®
â”‚   â”œâ”€â”€ constants/               # å¸¸é‡å®šä¹‰
â”‚   â”œâ”€â”€ validation/              # æ•°æ®éªŒè¯
â”‚   â””â”€â”€ utils.ts                 # é€šç”¨å·¥å…·
â””â”€â”€ drizzle/                     # æ•°æ®åº“ schema å’Œè¿ç§»
```

## ğŸ¯ ä¸»è¦åŠŸèƒ½

### 1. API ä»£ç†æœåŠ¡

æ™ºèƒ½ä»£ç† AI API è¯·æ±‚ï¼Œæ”¯æŒï¼š
- å¤šä¸Šæ¸¸æä¾›å•†è´Ÿè½½å‡è¡¡
- åŸºäºæƒé‡çš„è¯·æ±‚åˆ†å‘
- æµå¼å“åº” (Server-Sent Events)
- è¯·æ±‚è®¤è¯å’Œé€Ÿç‡é™åˆ¶
- è‡ªåŠ¨æ•…éšœè½¬ç§»

### 2. ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ

- **å¤šç”¨æˆ·æ”¯æŒ** - æ”¯æŒç®¡ç†å‘˜å’Œæ™®é€šç”¨æˆ·è§’è‰²
- **é…é¢æ§åˆ¶** - æ¯æ—¥æ¶ˆè´¹é™é¢å’Œè¯·æ±‚é¢‘ç‡é™åˆ¶
- **æƒé™ç®¡ç†** - ç»†ç²’åº¦çš„åŠŸèƒ½æƒé™æ§åˆ¶

### 3. å¯†é’¥ç®¡ç†

- **å¯†é’¥ç”Ÿæˆ** - è‡ªåŠ¨ç”Ÿæˆå®‰å…¨çš„ API å¯†é’¥
- **ç”Ÿå‘½å‘¨æœŸç®¡ç†** - æ”¯æŒå¯†é’¥è¿‡æœŸå’Œç¦ç”¨
- **ä½¿ç”¨ç»Ÿè®¡** - å®æ—¶ç›‘æ§å¯†é’¥ä½¿ç”¨æƒ…å†µ

### 4. ä¾›åº”å•†ç®¡ç†

- **å¤šä¾›åº”å•†æ”¯æŒ** - ç®¡ç†å¤šä¸ª AI æœåŠ¡æä¾›å•†
- **è´Ÿè½½å‡è¡¡é…ç½®** - æ”¯æŒæƒé‡ã€é€Ÿç‡é™åˆ¶ç­‰å‚æ•°
- **å¥åº·æ£€æŸ¥** - è‡ªåŠ¨æ£€æµ‹å’Œåˆ‡æ¢ä¸å¯ç”¨çš„ä¾›åº”å•†

### 5. æ•°æ®åˆ†æ

- **å®æ—¶ç»Ÿè®¡** - è¯·æ±‚é‡ã€æˆæœ¬ã€å“åº”æ—¶é—´ç­‰æŒ‡æ ‡
- **å¯è§†åŒ–å›¾è¡¨** - åŸºäº Recharts çš„äº¤äº’å¼å›¾è¡¨
- **å†å²æ•°æ®** - æ”¯æŒä¸åŒæ—¶é—´èŒƒå›´çš„æ•°æ®æŸ¥çœ‹

## ğŸ”§ å¼€å‘å‘½ä»¤

```bash
# å¼€å‘
pnpm dev                    # å¯åŠ¨å¼€å‘æœåŠ¡å™¨ (Turbopack)

# æ„å»º
pnpm run build             # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm run start                 # å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨

# ä»£ç è´¨é‡
pnpm run lint              # ESLint æ£€æŸ¥
pnpm run typecheck         # TypeScript ç±»å‹æ£€æŸ¥

# æ•°æ®åº“
pnpm run db:generate       # ç”Ÿæˆè¿ç§»æ–‡ä»¶
pnpm run db:migrate        # æ‰§è¡Œæ•°æ®åº“è¿ç§»
pnpm run db:push           # æ¨é€ schema åˆ°æ•°æ®åº“
pnpm run db:studio         # å¯åŠ¨ Drizzle Studio
```

## ğŸ¨ UI ç»„ä»¶

é¡¹ç›®ä½¿ç”¨ [shadcn/ui](https://ui.shadcn.com/) ç»„ä»¶åº“ï¼Œæä¾›ï¼š

- ä¸€è‡´çš„è®¾è®¡è¯­è¨€
- é«˜åº¦å¯å®šåˆ¶çš„ç»„ä»¶
- æ— éšœç¢è®¿é—®æ”¯æŒ
- æ·±è‰²æ¨¡å¼æ”¯æŒ

### æ·»åŠ æ–°ç»„ä»¶

```bash
pnpm dlx shadcn@latest add [component-name]
```

## ğŸ“Š æ•°æ®åº“è®¾è®¡

æ ¸å¿ƒæ•°æ®è¡¨ï¼š

- **users** - ç”¨æˆ·ä¿¡æ¯å’Œé…é¢è®¾ç½®
- **keys** - API å¯†é’¥ç®¡ç†
- **providers** - ä¸Šæ¸¸æœåŠ¡æä¾›å•†é…ç½®
- **message_request** - è¯·æ±‚è®°å½•å’Œç»Ÿè®¡
- **model_prices** - æ¨¡å‹å®šä»·ä¿¡æ¯

## ğŸ”’ å®‰å…¨ç‰¹æ€§

- **å¯†é’¥åŠ å¯†å­˜å‚¨** - æ•æ„Ÿä¿¡æ¯åŠ å¯†ä¿å­˜
- **è¯·æ±‚è®¤è¯** - åŸºäº JWT çš„èº«ä»½éªŒè¯
- **é€Ÿç‡é™åˆ¶** - é˜²æ­¢ API æ»¥ç”¨
- **æƒé™æ§åˆ¶** - åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶
- **è¾“å…¥éªŒè¯** - ä½¿ç”¨ Zod è¿›è¡Œä¸¥æ ¼çš„æ•°æ®éªŒè¯

## ğŸš€ éƒ¨ç½²æŒ‡å—

### Docker éƒ¨ç½²

```bash
# æ„å»ºé•œåƒ
docker build -t claude-code-hub .

# è¿è¡Œå®¹å™¨
docker run -p 3000:3000 -e DATABASE_URL=your-db-url claude-code-hub
```

### ç”Ÿäº§ç¯å¢ƒå»ºè®®

- ä½¿ç”¨åå‘ä»£ç† (Nginx/Caddy)
- é…ç½® HTTPS
- è®¾ç½®æ•°æ®åº“è¿æ¥æ± 
- å¯ç”¨æ—¥å¿—æ”¶é›†
- é…ç½®ç›‘æ§å’Œå‘Šè­¦

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ TypeScript ä¸¥æ ¼æ¨¡å¼
- éµå¾ª ESLint è§„åˆ™
- æäº¤å‰è¿è¡Œç±»å‹æ£€æŸ¥å’Œ lint
- ä½¿ç”¨æœ‰æ„ä¹‰çš„æäº¤æ¶ˆæ¯

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ†˜ æ”¯æŒä¸åé¦ˆ

- ğŸ› [æŠ¥å‘Šé—®é¢˜](https://github.com/your-username/claude-code-hub/issues)
- ğŸ’¡ [åŠŸèƒ½å»ºè®®](https://github.com/your-username/claude-code-hub/discussions)
- ğŸ“§ é‚®ä»¶: your-email@example.com

---

<p align="center">
  ç”¨ â¤ï¸ æ„å»ºï¼Œä¸º AI åº”ç”¨å¼€å‘è€…æœåŠ¡
</p>